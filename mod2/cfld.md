__CFL decidability__

_ict chapter 18_


Undecidable questions about CFGs
---
Given two CFLs Lâ‚ and Lâ‚‚ generated by CFGs Gâ‚ and Gâ‚‚ respectively, 
1. `Equivalence`: 
   - How can we tell whether or not Gâ‚ and Gâ‚‚ define the same language?
   - i.e. is `Lâ‚ = Lâ‚‚`?
2. `Ambiguity`: 
   - How can we tell whether or not Gâ‚ is ambiguous?
3. `Ambiguity elimination`: 
   - Given an `ambiguous CFG A`, how can we tell whether or not there is an `unambiguous CFG U` that generates the same language?
4. `CFL complement`
   - How can we tell whether or not the `complement of a given CFL` is also context-free?
5. `CFL intersection`
   - How can we tell whether or not the `intersection of two CFLs` is also context-free?
6. `Intersection emptiness`
   - How can we tell whether or not Lâ‚ and Lâ‚‚ have a word in common?
   - i.e. is Lâ‚ âˆ© Lâ‚‚ = Î¦
7. `Non-generatability`
   - How can we tell whether or not there are any words that Gâ‚ `does not` generÂ­ate?
   - i.e. is Lâ‚ = (a + b)*?
- It had been proved that `no algorithm can exist` to answer these questions


Decidable questions about CFGs
---
Given the CFL Lâ‚ generated by a CFG Gâ‚, and a particular string w
1. `emptiness`:
   - can we tell whether or not Gâ‚ generates any words at all? 
   - i.e. is Lâ‚ `empty`?
2. `finiteness`:
   - can we tell whether or not Lâ‚ is finite or infinite?
   - i.e. is |Lâ‚| â‰¤ M? 
     - M is a large enough positive number.
3. `membership`:
   - can we tell whether or not w can be generated by Gâ‚?
   - i.e. is w âˆˆ Lâ‚?



â˜¯ Theorem 1: The `emptiness` of any CFG is `decidable`
---
Given CFL L generated by CFG G, `there is an algorithm` to determine
- `whether or not it can generate any words at all`
- i.e. `whether or not L=Î¦`

Prove by construction:
- if S âŠ¨ Îµ, then L â‰  Î¦
- if S âŠ­ Îµ, G can be converted to CNF
  - if there is a production S â†’ t and `t is a terminal`, then t âˆˆ L
  - if there is no such productions, go through the following algorithm
  - â¶ eliminate nonterminal N
    - N has some productions of the form N â†’ w and `w is a terminal or string of terminals`
    - keep one of these productions and delete all other productions with N on their left
    - replace all Ns on the right side of the remaining productions by w
    - the new CFG G' may no longer be in CNF nor generate the same CFL as G, but
      - Every word that can be generated from G' could have been generated by G 
      - If G generated any words, then G' does also
  - â· Repeat â¶ until either it eliminates S or it eliminates no new nonterminals.
    - If S has been eliminated, then the G produces some words; 
    - if not, then it does not. 
      - Because if there were any words in the language, we could retrace the tree from any word and follow the path back to S (p1)
        - A â†’ a
        - B â†’ a | b
        - Y â†’ BB
        - X â†’ AY
        - S â†’ XY
  - the productions in G is finite, so is â¶ and this algorithm


ğŸ Example 1
---
- Decide the emptiness of the CFG below
  - S â†’ XY
  - X â†’ AX | AA
  - Y â†’ BY | BB
  - A â†’ a
  - B â†’ b
- Solution
  - A â†’ a, X â†’ AX | AA âŠ¢ X â†’ aX | aa âŠ¢ X â†’ aa
    - `âŠ¢` denote its LHS is `reduced` to its RHS
  - B â†’ b, Y â†’ BY | BB âŠ¢ Y â†’ bY | bb âŠ¢ Y â†’ bb
  - S â†’ XY, X â†’ aa, Y â†’ bb âŠ¢ S â†’ aabb âŠ¢ aabb
  - S is deleted so the CFG produces at least one word `aabb`


ğŸƒ Exercise 1
---
- Decide the emptiness of the CFG below
  - S â†’ XY
  - `X â†’ AX`
  - Y â†’ BY | BB
  - A â†’ a
  - B â†’ b
- Solution
  - A â†’ a, X â†’ AX âŠ¢ `X â†’ aX`
  - B â†’ b, Y â†’ BY | BB âŠ¢ Y â†’ bY | bb âŠ¢ Y â†’ bb
  - S â†’ XY, Y â†’ bb âŠ¢ `S â†’ Xbb` 
  - S is still there so the CFG produces no word


â˜¯ Theorem 2: Uselessness is decidable
---
There is an algorithm to decide whether or not `a given nonterminal X in a given CFG is ever used` in the generation of words.
- A nonterminal that `cannot be used in a production of a word` is called `useless`
  
Prove by showing the a word can be derived from S passing X:
- â¶ X âŠ¨ a string of terminals
  - An `unproductive nonterminal` cannot ever produce a string of terminals
- â· S âŠ¨ a working string involving X

Algorithm of deciding X's uselessness:
- â‘  Purify the grammar by `eliminating` productions involving `unproductive` nonterminals.
  - If all X's are removed then X is useless
- â‘¡ Mark all X's
- â‘¢ If any nonterminal is the LHS of a production with anything marked on the right, mark it, and mark all occurrences of it throughout the grammar
- â‘£ Repeat step â‘¢ until nothing new is marked
- â‘¤ If S is marked, X is a useful member of the CFG otherwise it is useless


ğŸ Example 2
---
Decide the uselessness of each nonterminal in the CFG below
- Sâ†’ABa | bAZ | b
- Aâ†’Xb | bZa
- Bâ†’bAA
- Xâ†’aZa | aaa
- Zâ†’ZAbA

- S is not useless
  - S âŠ¨ b
- A is not useless
  - Aâ†’Xb, Xâ†’aaa âŠ¢ AâŠ¨(aaa)b=aaab
  - Sâ†’ABa, BâŠ¨baaabaaab âŠ¢ SâŠ¨A(baaabaaab)(a)
- B is not useless
  - Bâ†’bAA, AâŠ¨aaab âŠ¢ BâŠ¨(b)(aaab)(aaab) = baaabaaab
  - Sâ†’ABa, AâŠ¨aaab âŠ¢ SâŠ¨(aaab)B(a)
- X is not useless
  - X âŠ¨ aaa
  - Sâ†’ABa, Aâ†’Xb, BâŠ¨baaabaaab âŠ¢ S âŠ¨ Xb(baaabaaab)(a)
- Z is useless
  - Sâ†’bAZ, AâŠ¨aaab âŠ¢ S âŠ¨ b(aaab)Z
  - but Zâ†’ZAbA,AâŠ¨aaab âŠ¢ Z âŠ¨ Z(aaab)(b)(aaab) âŠ­ all terminals


â˜¯ Theorem 3: finiteness is decidable
---
There is an algorithm to decide whether a given CFG generates an infinite language or a fiÂ­nite language.


â˜¯ Theorem 4: membership is decidable
---
Given a CFG and a string x in the same alphabet, we can decide whether or not x can be genÂ­erated by the CFG.