__Grammatical format__

_ict chapter 13_


Capability of CFGs
---
CFGs can generate
- all regular languages, and
- some nonregular languages but not all possible languages


â˜¯ Theorem: All regular languages are context-free languages
---
Given any FA, there is a CFG that generates exactly the language accepted by the FA.

Prove by constructing a CFG for any given FA:
- Create a nonterminal for each state of the FA
  - the start state is the `S (start here)` nonterminal
- Create a production for every edge (s1, Ïƒ, s2), e.x.
  - X â†’ aX for (x,a,y)
  - X â†’ bX for (x,b,x)
  - F â†’ Ïµ for every final state f

Then show that
- â¶ every word w=Ïƒâ‚Ïƒâ‚‚â‹¯Ïƒâ‚™â‹¯Ïƒâ‚‘ accepted by the FA can be generated from the CFG
  - there is a `semiword` for every `semipath`
    - `semiword` = (terminal)âº(nonterminal)
    - `semipath` = (Ïƒ)âº(s)


ðŸŽ Example
---
```mermaid
flowchart LR
  s(("S-"))
  m(("M"))
  f(("F+"))

  s-->|a|m
  s-->|b|s
  m-->|a|f
  m-->|b|s
  f-->|"a,b"|f
```
- The CFG created by the theorem:
  - S â†’ aM | bS
  - M â†’ aF | bS
  - F â†’ aF | bF | Ïµ
- When `baab` is running on the FA, 
  - a sequence of (semipath:semiword) is generated
    - S:S
    - S(b)S:bS
    - S(b)S(a)M:baM
    - S(b)S(a)M(a)F:baaF
    - S(b)S(a)M(a)F(b)F:baabF

- â· every word generated by th e CFG is accepted by the FA
  - any word `w` generated by the CFG is a semiword mapping to a semipath on the FA, and only when the nonterminal of the semiword is F, a word can be generated by applying `Fâ†’Ïµ`. i.e. Its corresponding semipath stops at a final state of the FA, i.e. `w` is accepted by the FA. 


ðŸŽ Example
---
- An FA defines the language of all words with an even number of a's
```mermaid
flowchart LR
  s(("S-"))
  m(("M"))
  f(("F+"))

  s-->|a|m
  s-->|b|s
  m-->|a|f
  m-->|b|m
  f-->|"b"|f
  f-->|a|m
```
- has the CFG below generated by the theorem
  - S â†’ bS|aM
  - M â†’ bM|aF
  - F â†’ bF|aM|Ïµ


â˜¯ Theorem: CFGs that generate RLs
---
If all the productions in a given CFG has only the two forms:
- â¶ nonterminal â†’ semiword=(word)âºnonterminal
  - e.x. Náµ¤ â†’ wáµ¢Náµ¥
- â· nonterminal â†’ word
  - e.x. Nâ‚– â†’ wâ±¼

then the language generated by this CFG is regular.
- such a CFG is called a `regular grammar (RG)`
  - all RGs generate RLs
  - all RLs can be generated by RGs
  - âš ï¸ some non-RG CFGs can generate RLs as well

Prove by constructing a TG accepts the language generated by this CFG:
- create a state for each nonterminal
  - the start state is for the S nonterminal
  - a final state for each word in form â·
- create an edge for each production
  - Náµ¤ â†’ wáµ¢Náµ¥: an edge from Náµ¤ to Náµ¥ labeled with wáµ¢
  - Nâ‚– â†’ wâ±¼: an edge from Nâ‚– to Fâ±¼ labeled with wâ±¼


ðŸŽ Example
---
â‘  Given a RG1 
- S â†’ aaS|bbS|Ïµ, 
- a TG1 can be constructed following the previous theorem:
```mermaid
flowchart LR
s(("-"))
f(("+"))
s-->|"aa,bb"|s
s-->|Ïµ|f
```
- which corresponds to RE1: $\mathbf{(aa+bb)^*}$

- ---

â‘¡ Given a RG2 
- S â†’ aA|bB
- A â†’ aS | a
- B â†’ bS | b
- a TG2 can be constructed following the previous theorem:
```mermaid
flowchart LR
s(("-"))
A(("a"))
B(("b"))
f(("+"))
s-->|a|A
s-->|b|B
A-->|a|s
B-->|b|s
A-->|a|f
B-->|b|f
```
- which corresponds to RE2: $\mathbf{(aa+bb)^+}$

- ---

â‘¢ Given a RG3 
- S â†’ aaS|bbS|abX|baX|Ïµ
- X â†’ aaX|bbX|abS|baS
- a TG3 can be constructed following the previous theorem:
```mermaid
flowchart LR
s(("-"))
x(("X"))
f(("+"))

s-->|Ïµ|f
s-->|"aa,bb"|s
s-->|"ab,ba"|x
x-->|"aa,bb"|x
x-->|"ab,ba"|s
```
- which is EVEN-EVEN RE3: $\mathbf{(aa+bb + (ab+ba)(aa+bb)^*(ab+ba))^*}$

